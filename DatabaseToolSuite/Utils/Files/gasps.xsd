<?xml version="1.0" standalone="yes"?>
<xs:schema id="RepositoryDataSet" targetNamespace="http://tempuri.org/DictionaryXMLSchema.xsd" xmlns:mstns="http://tempuri.org/DictionaryXMLSchema.xsd" xmlns="http://tempuri.org/DictionaryXMLSchema.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" attributeFormDefault="qualified" elementFormDefault="qualified">
  <xs:element name="RepositoryDataSet" msdata:IsDataSet="true" msdata:Locale="ru">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="authority" msdata:CaseSensitive="False" msdata:Locale="ru">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="id" type="xs:long" />
              <xs:element name="code" msdata:ReadOnly="true" msdata:Expression="IIF(LEN(Convert(id, System.String))=1, '0' + Convert(id, System.String), id)" msdata:Caption="Код" type="xs:string" />
              <xs:element name="name" msdata:Caption="Наименование" type="xs:string" />
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="okato" msdata:Locale="ru">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="code" msdata:ReadOnly="true" msdata:Expression="IIF(LEN(Convert(ter, System.String))=1, '0' + Convert(ter, System.String), ter) + IIF(kod1&gt;0, IIF(LEN(Convert(kod1, System.String))=1, '0' + Convert(kod1, System.String), kod1),'') + ISNULL(lab,'')" type="xs:string" minOccurs="0" />
              <xs:element name="name" msdata:Caption="Наименование по справочнику ОКАТО" type="xs:string" />
              <xs:element name="name2" msdata:Caption="Наименование для вывода" type="xs:string" minOccurs="0" />
              <xs:element name="centrum" msdata:Caption="Центр" type="xs:string" minOccurs="0" />
              <xs:element name="genitive" msdata:Caption="Наименование в родительном падеже" type="xs:string" minOccurs="0" />
              <xs:element name="ter" msdata:Caption="TER код ОКАТО" type="xs:string" />
              <xs:element name="kod1" msdata:Caption="KOD1 код ОКАТО" type="xs:short" default="0" />
              <xs:element name="lab" msdata:Caption="Дополнительные знаки" default="" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="2" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="okato" msdata:ReadOnly="true" msdata:Expression="IIF(LEN(Convert(ter, System.String))=1, '0' + Convert(ter, System.String), ter) + IIF(kod1&gt;0, IIF(LEN(Convert(kod1, System.String))=1, '0' + Convert(kod1, System.String), kod1),'')" msdata:Caption="Код ОКАТО" type="xs:string" minOccurs="0" />
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="gasps">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="id" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" type="xs:long" />
              <xs:element name="name" msdata:Caption="Наименование" type="xs:string" />
              <xs:element name="key" type="xs:long" />
              <xs:element name="okato_code" type="xs:string" default="00" />
              <xs:element name="authority_id" type="xs:long" />
              <xs:element name="code" msdata:Caption="Код подразделения" type="xs:string" />
              <xs:element name="version" msdata:Caption="Версия" type="xs:long" />
              <xs:element name="index" type="xs:long" minOccurs="0" />
              <xs:element name="owner_id" type="xs:long" />
              <xs:element name="date_beg" msdata:Caption="Дата начала" type="xs:dateTime" />
              <xs:element name="date_end" msdata:Caption="Дата окончания" type="xs:dateTime" />
              <xs:element name="location_okato_id" type="xs:long" minOccurs="0" />
              <xs:element name="another_okato_id" type="xs:long" minOccurs="0" />
              <xs:element name="court_type_id" type="xs:long" minOccurs="0" />
            </xs:sequence>
          </xs:complexType>
        </xs:element>
        <xs:element name="court_type">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="id" msdata:AutoIncrement="true" type="xs:long" />
              <xs:element name="name" msdata:Caption="Наименование" type="xs:string" />
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:complexType>
    <xs:unique name="authority_key" msdata:PrimaryKey="true">
      <xs:selector xpath=".//mstns:authority" />
      <xs:field xpath="mstns:id" />
    </xs:unique>
    <xs:unique name="Constraint1">
      <xs:selector xpath=".//mstns:authority" />
      <xs:field xpath="mstns:name" />
    </xs:unique>
    <xs:unique name="gasps_key" msdata:PrimaryKey="true">
      <xs:selector xpath=".//mstns:gasps" />
      <xs:field xpath="mstns:id" />
    </xs:unique>
    <xs:unique name="Constraint4">
      <xs:selector xpath=".//mstns:gasps" />
      <xs:field xpath="mstns:version" />
    </xs:unique>
    <xs:unique name="court_type_key" msdata:PrimaryKey="true">
      <xs:selector xpath=".//mstns:court_type" />
      <xs:field xpath="mstns:id" />
    </xs:unique>
    <xs:unique name="court_type_Constraint1" msdata:ConstraintName="Constraint1">
      <xs:selector xpath=".//mstns:court_type" />
      <xs:field xpath="mstns:name" />
    </xs:unique>
    <xs:keyref name="FK_court_type_gasps" refer="court_type_key">
      <xs:selector xpath=".//mstns:gasps" />
      <xs:field xpath="mstns:court_type_id" />
    </xs:keyref>
    <xs:keyref name="FK_authority_gasps" refer="authority_key">
      <xs:selector xpath=".//mstns:gasps" />
      <xs:field xpath="mstns:authority_id" />
    </xs:keyref>
  </xs:element>
  <xs:annotation>
    <xs:appinfo>
      <msdata:Relationship name="FK_okato_gasps" msdata:parent="okato" msdata:child="gasps" msdata:parentkey="code" msdata:childkey="okato_code" />
    </xs:appinfo>
  </xs:annotation>
</xs:schema>